/*
 * THIS FILE WAS GENERATED BY "@atproto/lex". DO NOT EDIT.
 */
// @ts-nocheck

import { l } from '@atproto/lex'
import * as RepoStrongRef from '../../../com/atproto/repo/strongRef.defs.js'

const $nsid = 'org.rwell.test.comment'

export { $nsid }

/** A comment on an observation. Used for general discussion, questions, or additional context about an observation. */
type Main = {
  $type: 'org.rwell.test.comment'

  /**
   * A strong reference (CID + URI) to the observation being commented on.
   */
  subject: RepoStrongRef.Main

  /**
   * The text content of the comment.
   */
  body: string

  /**
   * Optional reference to another comment this is replying to, for threaded discussions.
   */
  replyTo?: RepoStrongRef.Main

  /**
   * Timestamp when this comment was created.
   */
  createdAt: l.DatetimeString
}

export type { Main }

/** A comment on an observation. Used for general discussion, questions, or additional context about an observation. */
const main = l.record<'tid', Main>(
  'tid',
  $nsid,
  l.object({
    subject: l.ref<RepoStrongRef.Main>((() => RepoStrongRef.main) as any),
    body: l.string({ maxLength: 3000 }),
    replyTo: l.optional(
      l.ref<RepoStrongRef.Main>((() => RepoStrongRef.main) as any),
    ),
    createdAt: l.string({ format: 'datetime' }),
  }),
)

export { main }

export const $isTypeOf = /*#__PURE__*/ main.isTypeOf.bind(main),
  $build = /*#__PURE__*/ main.build.bind(main),
  $type = /*#__PURE__*/ main.$type
export const $assert = /*#__PURE__*/ main.assert.bind(main),
  $check = /*#__PURE__*/ main.check.bind(main),
  $cast = /*#__PURE__*/ main.cast.bind(main),
  $ifMatches = /*#__PURE__*/ main.ifMatches.bind(main),
  $matches = /*#__PURE__*/ main.matches.bind(main),
  $parse = /*#__PURE__*/ main.parse.bind(main),
  $safeParse = /*#__PURE__*/ main.safeParse.bind(main),
  $validate = /*#__PURE__*/ main.validate.bind(main),
  $safeValidate = /*#__PURE__*/ main.safeValidate.bind(main)
