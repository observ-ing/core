/*
 * THIS FILE WAS GENERATED BY "@atproto/lex". DO NOT EDIT.
 */
// @ts-nocheck

import { l } from '@atproto/lex'

const $nsid = 'org.rwell.test.occurrence'

export { $nsid }

/** A biodiversity observation record following Darwin Core standards. Represents a single occurrence of an organism at a specific place and time. */
type Main = {
  $type: 'org.rwell.test.occurrence'

  /**
   * [
   *
   * @deprecated Use identification records instead] The full scientific name of the observed organism, following Darwin Core dwc:scientificName.
   */
  scientificName?: string

  /**
   * The date-time when the observation occurred, in ISO 8601 format (Darwin Core dwc:eventDate).
   */
  eventDate: l.DatetimeString

  /**
   * Geographic location information for the observation.
   */
  location: Location

  /**
   * The original textual description of the place (Darwin Core dwc:verbatimLocality).
   */
  verbatimLocality?: string

  /**
   * Array of image references documenting the observation.
   */
  blobs?: ImageEmbed[]

  /**
   * Additional notes or comments about the observation.
   */
  notes?: string

  /**
   * SPDX license identifier for this observation (maps to Dublin Core dcterms:license).
   */
  license?:
    | 'CC0-1.0'
    | 'CC-BY-4.0'
    | 'CC-BY-NC-4.0'
    | 'CC-BY-SA-4.0'
    | 'CC-BY-NC-SA-4.0'
    | l.UnknownString

  /**
   * Timestamp when this record was created.
   */
  createdAt: l.DatetimeString

  /**
   * [
   *
   * @deprecated Use identification records instead] External taxon identifier (e.g., gbif:2878688). Prefixed with source.
   */
  taxonId?: string

  /**
   * [
   *
   * @deprecated Use identification records instead] The taxonomic rank of the scientific name (e.g., species, genus, family).
   */
  taxonRank?:
    | 'kingdom'
    | 'phylum'
    | 'class'
    | 'order'
    | 'family'
    | 'genus'
    | 'species'
    | 'subspecies'
    | 'variety'
    | 'form'
    | l.UnknownString

  /**
   * [
   *
   * @deprecated Use identification records instead] Common name for the taxon (Darwin Core dwc:vernacularName).
   */
  vernacularName?: string

  /**
   * [
   *
   * @deprecated Use identification records instead] Taxonomic kingdom (e.g., Animalia, Plantae) (Darwin Core dwc:kingdom).
   */
  kingdom?: string

  /**
   * [
   *
   * @deprecated Use identification records instead] Taxonomic phylum (Darwin Core dwc:phylum).
   */
  phylum?: string

  /**
   * [
   *
   * @deprecated Use identification records instead] Taxonomic class (Darwin Core dwc:class).
   */
  class?: string

  /**
   * [
   *
   * @deprecated Use identification records instead] Taxonomic order (Darwin Core dwc:order).
   */
  order?: string

  /**
   * [
   *
   * @deprecated Use identification records instead] Taxonomic family (Darwin Core dwc:family).
   */
  family?: string

  /**
   * [
   *
   * @deprecated Use identification records instead] Taxonomic genus (Darwin Core dwc:genus).
   */
  genus?: string

  /**
   * DIDs of co-observers who participated in this observation. The record creator is the primary observer.
   */
  recordedBy?: string[]
}

export type { Main }

/** A biodiversity observation record following Darwin Core standards. Represents a single occurrence of an organism at a specific place and time. */
const main = l.record<'tid', Main>(
  'tid',
  $nsid,
  l.object({
    scientificName: l.optional(l.string({ maxLength: 256 })),
    eventDate: l.string({ format: 'datetime' }),
    location: l.ref<Location>((() => location) as any),
    verbatimLocality: l.optional(l.string({ maxLength: 1024 })),
    blobs: l.optional(
      l.array(l.ref<ImageEmbed>((() => imageEmbed) as any), { maxLength: 10 }),
    ),
    notes: l.optional(l.string({ maxLength: 3000 })),
    license: l.optional(l.string({ maxLength: 32 })),
    createdAt: l.string({ format: 'datetime' }),
    taxonId: l.optional(l.string({ maxLength: 64 })),
    taxonRank: l.optional(
      l.withDefault(l.string({ maxLength: 32 }), 'species'),
    ),
    vernacularName: l.optional(l.string({ maxLength: 256 })),
    kingdom: l.optional(l.string({ maxLength: 64 })),
    phylum: l.optional(l.string({ maxLength: 64 })),
    class: l.optional(l.string({ maxLength: 64 })),
    order: l.optional(l.string({ maxLength: 64 })),
    family: l.optional(l.string({ maxLength: 64 })),
    genus: l.optional(l.string({ maxLength: 64 })),
    recordedBy: l.optional(l.array(l.string(), { maxLength: 10 })),
  }),
)

export { main }

export const $isTypeOf = /*#__PURE__*/ main.isTypeOf.bind(main),
  $build = /*#__PURE__*/ main.build.bind(main),
  $type = /*#__PURE__*/ main.$type
export const $assert = /*#__PURE__*/ main.assert.bind(main),
  $check = /*#__PURE__*/ main.check.bind(main),
  $cast = /*#__PURE__*/ main.cast.bind(main),
  $ifMatches = /*#__PURE__*/ main.ifMatches.bind(main),
  $matches = /*#__PURE__*/ main.matches.bind(main),
  $parse = /*#__PURE__*/ main.parse.bind(main),
  $safeParse = /*#__PURE__*/ main.safeParse.bind(main),
  $validate = /*#__PURE__*/ main.validate.bind(main),
  $safeValidate = /*#__PURE__*/ main.safeValidate.bind(main)

/** Geographic coordinates following Darwin Core standards. */
type Location = {
  $type?: 'org.rwell.test.occurrence#location'

  /**
   * The geographic latitude in decimal degrees (Darwin Core dwc:decimalLatitude). Valid range: -90 to 90.
   */
  decimalLatitude: string

  /**
   * The geographic longitude in decimal degrees (Darwin Core dwc:decimalLongitude). Valid range: -180 to 180.
   */
  decimalLongitude: string

  /**
   * The horizontal distance (in meters) from the given coordinates describing the smallest circle containing the whole of the Location (Darwin Core dwc:coordinateUncertaintyInMeters).
   */
  coordinateUncertaintyInMeters?: number

  /**
   * The ellipsoid, geodetic datum, or spatial reference system used (Darwin Core dwc:geodeticDatum). Defaults to WGS84.
   */
  geodeticDatum?: string

  /**
   * The name of the continent (Darwin Core dwc:continent).
   */
  continent?:
    | 'Africa'
    | 'Antarctica'
    | 'Asia'
    | 'Europe'
    | 'North America'
    | 'Oceania'
    | 'South America'
    | l.UnknownString

  /**
   * The name of the country or major administrative unit (Darwin Core dwc:country).
   */
  country?: string

  /**
   * The standard code for the country (Darwin Core dwc:countryCode). ISO 3166-1-alpha-2.
   */
  countryCode?: string

  /**
   * The name of the next smaller administrative region than country (Darwin Core dwc:stateProvince).
   */
  stateProvince?: string

  /**
   * The full, unabbreviated name of the next smaller administrative region than stateProvince (Darwin Core dwc:county).
   */
  county?: string

  /**
   * The full, unabbreviated name of the next smaller administrative region than county (Darwin Core dwc:municipality).
   */
  municipality?: string

  /**
   * The specific description of the place (Darwin Core dwc:locality).
   */
  locality?: string

  /**
   * The name of the water body in which the location occurs (Darwin Core dwc:waterBody).
   */
  waterBody?: string

  /**
   * The lower limit of the range of elevation in meters (Darwin Core dwc:minimumElevationInMeters).
   */
  minimumElevationInMeters?: string

  /**
   * The upper limit of the range of elevation in meters (Darwin Core dwc:maximumElevationInMeters).
   */
  maximumElevationInMeters?: string

  /**
   * The lesser depth of a range of depth below the local surface in meters (Darwin Core dwc:minimumDepthInMeters).
   */
  minimumDepthInMeters?: string

  /**
   * The greater depth of a range of depth below the local surface in meters (Darwin Core dwc:maximumDepthInMeters).
   */
  maximumDepthInMeters?: string
}

export type { Location }

/** Geographic coordinates following Darwin Core standards. */
const location = l.typedObject<Location>(
  $nsid,
  'location',
  l.object({
    decimalLatitude: l.string(),
    decimalLongitude: l.string(),
    coordinateUncertaintyInMeters: l.optional(l.integer({ minimum: 0 })),
    geodeticDatum: l.optional(
      l.withDefault(l.string({ maxLength: 64 }), 'WGS84'),
    ),
    continent: l.optional(l.string({ maxLength: 32 })),
    country: l.optional(l.string({ maxLength: 128 })),
    countryCode: l.optional(l.string({ maxLength: 2 })),
    stateProvince: l.optional(l.string({ maxLength: 128 })),
    county: l.optional(l.string({ maxLength: 128 })),
    municipality: l.optional(l.string({ maxLength: 128 })),
    locality: l.optional(l.string({ maxLength: 512 })),
    waterBody: l.optional(l.string({ maxLength: 128 })),
    minimumElevationInMeters: l.optional(l.string()),
    maximumElevationInMeters: l.optional(l.string()),
    minimumDepthInMeters: l.optional(l.string()),
    maximumDepthInMeters: l.optional(l.string()),
  }),
)

export { location }

/** A reference to an uploaded image blob. */
type ImageEmbed = {
  $type?: 'org.rwell.test.occurrence#imageEmbed'

  /**
   * The image blob reference.
   */
  image: l.BlobRef

  /**
   * Alt text description of the image for accessibility.
   */
  alt: string
  aspectRatio?: AspectRatio
}

export type { ImageEmbed }

/** A reference to an uploaded image blob. */
const imageEmbed = l.typedObject<ImageEmbed>(
  $nsid,
  'imageEmbed',
  l.object({
    image: l.blob({
      accept: ['image/jpeg', 'image/png', 'image/webp'],
      maxSize: 10000000,
      allowLegacy: false,
    }),
    alt: l.string({ maxLength: 1000 }),
    aspectRatio: l.optional(l.ref<AspectRatio>((() => aspectRatio) as any)),
  }),
)

export { imageEmbed }

/** Width and height of an image, used for proper display before loading. */
type AspectRatio = {
  $type?: 'org.rwell.test.occurrence#aspectRatio'
  width: number
  height: number
}

export type { AspectRatio }

/** Width and height of an image, used for proper display before loading. */
const aspectRatio = l.typedObject<AspectRatio>(
  $nsid,
  'aspectRatio',
  l.object({
    width: l.integer({ minimum: 1 }),
    height: l.integer({ minimum: 1 }),
  }),
)

export { aspectRatio }
